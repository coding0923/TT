<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/default}">

    <th:block layout:fragment="title">
        <title>마이 페이지</title>
    </th:block>
    
    <th:block layout:fragment="customCss">
        <link th:href="@{/css/mypage.css}" rel="stylesheet">
    </th:block> 

    
    <div layout:fragment="content">
	    <div class="col">
		    <div class="row">
		      <div class="col mb-3">
		        <div class="card">
		          <div class="card-body">
		            <div class="e-profile">
		              <div class="row">
		                <div class="col-12 col-sm-auto mb-3">
		                  
		                </div>
		                <div class="col d-flex flex-column flex-sm-row justify-content-between mb-3">
		                  <div class="mx-auto" style="width: 140px;">
                            <div class="uploadResult">
                              <!-- <img th:src="@{/display2?fileName=${image.thumbnailURL}}"> -->
                            </div>
                          </div>
		                  
		                  <div class="text-center text-sm-left mb-2 mb-sm-0">
		                    <h4 class="pt-sm-2 pb-1 mb-0 text-nowrap">John Smith</h4>
		                    <p class="mb-0">@johnny.s</p>
		                    <div class="text-muted"><small>Last seen 2 hours ago</small></div>
		                    <div class="mt-2">
                                  <label for="input-file" class="btn btn-primary profileBtn">프로필 사진 선택
                                    <i class="fa fa-fw fa-camera"></i>
                                  </label>
                                  <input id="input-file" name="uploadFiles" type="file" style="display:none;">
                                  <button class="btn uploadBtn">Upload</button>    
		                    </div>
		                  </div>
		                  
		                  <div class="text-center text-sm-right">
		                    <span class="badge badge-secondary">[[${session.role}]]</span>
		                    <div class="text-muted">
		                      <small th:if=" ${session.role.equals('teacher')}"> [[${session.loginUser.getTeacherRegdate}]] 가입</small>
		                      <small th:if=" ${session.role.equals('student')}"> [[${session.loginUser.getStudentRegdate}]] 가입</small>
	                        </div>
		                  </div>
		                </div>
		              </div>
		              <ul class="nav nav-tabs">
		                <li class="nav-item"><a href="" class="active nav-link">Settings</a></li>
		              </ul>
		              <div class="tab-content pt-3">
		                <div class="tab-pane active">
		                  <form class="form" id="mypage" th:object="${teacherDTO}" novalidate="">
		                    <div class="row">
		                      <div class="col">
		                        <div class="row">
		                          <div class="col">
		                            <div class="form-group">
			                          <label class="formLabel">이름</label>
			                          <div class="form-field">
			                              <input class="form-control" id="name" type="text" name="name" th:if=" ${session.role.equals('teacher')}" th:value=${session.loginUser.getTeacherName} readonly>
			                              <input class="form-control" id="name" type="text" name="name" th:if=" ${session.role.equals('student')}" th:value=${session.loginUser.getStudentName} readonly>
		                                  <small class="hint"></small>
	                                  </div>
		                            </div>
		                          </div>
		                          <div class="col">
		                            <label class="formLabel">생년월일</label>
                                      <div class="form-field">
                                          <input class="form-control" id="dateBirth" type="text" name="dateBirth" th:if=" ${session.role.equals('teacher')}" readonly>
                                          <input class="form-control" id="dateBirth" type="text" name="dateBirth" th:if=" ${session.role.equals('student')}" readonly>
                                          <small class="hint"></small>
                                      </div>
		                          </div>
		                        </div>
		                        <div class="row">
                                  <div class="col">
                                    <div class="form-group">
                                      <label class="formLabel">핸드폰</label>
                                      <div class="form-field">
                                          <input class="form-control" id="phone" type="text" name="phone" th:if=" ${session.role.equals('teacher')}" th:value=${session.loginUser.getTeacherPhone}>
                                          <input class="form-control" id="phone" type="text" name="phone" th:if=" ${session.role.equals('student')}" th:value=${session.loginUser.getStudentPhone}>
                                          <small class="hint"></small>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="col">
                                    <label class="formLabel">이메일</label>
                                      <div class="form-field">
                                          <input class="form-control" id="email" type="text" name="email" th:if=" ${session.role.equals('teacher')}" th:value=${session.loginUser.getTeacherEmail}>
                                          <input class="form-control" id="email" type="text" name="email" th:if=" ${session.role.equals('student')}" th:value=${session.loginUser.getStudentEmail}>
                                          <small class="hint"></small>
                                      </div>
                                  </div>
                                </div>
		                      </div>
		                    </div>
		                    <div class="row">
		                      <div class="col-12 col-sm-6 mb-3">
		                      <br>
		                        <div class="mb-2"><b>비밀번호 변경</b></div>
		                        <div class="row">
		                          <div class="col">
		                            <div class="form-group">
		                              <label class="formLabel">현재 비밀번호</label>
		                              <input class="form-control" type="password">
		                              <small class="hint"></small>
		                            </div>
		                          </div>
		                        </div>
		                        <div class="row">
		                          <div class="col">
		                            <div class="form-group">
		                              <label class="formLabel">새로운 비밀번호</label>
		                                <div class="form-field">
	                                      <input class="form-control" id="password" type="password">
	                                      <small class="hint"></small>
	                                    </div>  
		                              </div>
		                          </div>
		                        </div>
		                        <div class="row">
		                          <div class="col">
		                            <div class="form-group">
		                              <label class="formLabel">비밀번호 확인</label>
		                                <div class="form-field">
		                                  <input class="form-control" id="confirm-password" type="password">
		                                  <small class="hint"></small>
                                        </div> 
                                    </div>  
		                          </div>
		                        </div>
		                      </div>
		                      <div class="col-12 col-sm-5 offset-sm-1 mb-3">
		                      
		                      </div>
		                    </div>
		                    <div class="row">
		                      <div class="col d-flex justify-content-end">
		                        <button class="btn btn-primary" type="submit">Save Changes</button>
		                      </div>
		                    </div>
		                  </form>
		                </div>
		              </div>
		            </div>
		          </div>
		        </div>
		      </div>
		    </div> 
		</div>
	</div> 
	
	<th:block layout:fragment="customJs">
        <script defer th:src="@{/js/app.js}"></script>
    </th:block>	    
</html>